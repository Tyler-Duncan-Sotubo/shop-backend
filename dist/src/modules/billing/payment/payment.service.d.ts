import { db as DbType } from 'src/drizzle/types/drizzle';
import { InvoiceService } from '../invoice/invoice.service';
import { PaystackSuccessDto } from './dto/paystack-success.dto';
import { ConfirmBankTransferDto } from './dto/confirm-bank-transfer.dto';
import { RecordBankTransferDto } from './dto/record-bank-transfer.dto';
export declare class PaymentService {
    private readonly db;
    private readonly invoiceService;
    constructor(db: DbType, invoiceService: InvoiceService);
    handlePaystackSuccess(dto: PaystackSuccessDto, companyId: string, userId: string): Promise<{
        invoice: {
            id: string;
            companyId: string;
            storeId: string | null;
            orderId: string | null;
            type: "invoice" | "credit_note";
            status: "draft" | "issued" | "partially_paid" | "paid" | "void";
            customerId: string | null;
            billingAddressId: string | null;
            shippingAddressId: string | null;
            customerSnapshot: unknown;
            supplierSnapshot: unknown;
            seriesId: string | null;
            sequenceNumber: number | null;
            number: string | null;
            issuedAt: Date | null;
            dueAt: Date | null;
            currency: string;
            exchangeRate: string | null;
            subtotalMinor: number;
            discountMinor: number;
            shippingMinor: number;
            taxMinor: number;
            adjustmentMinor: number;
            roundingMinor: number;
            totalMinor: number;
            paidMinor: number;
            balanceMinor: number;
            lockedAt: Date | null;
            voidedAt: Date | null;
            voidReason: string | null;
            meta: unknown;
            createdAt: Date;
            updatedAt: Date;
        };
        paymentId: any;
    }>;
    recordBankTransfer(dto: RecordBankTransferDto, companyId: string): Promise<{
        paymentId: string;
    }>;
    confirmBankTransferAndApply(paymentId: string, dto: ConfirmBankTransferDto, companyId: string, userId: string): Promise<{
        invoice: {
            id: string;
            companyId: string;
            storeId: string | null;
            orderId: string | null;
            type: "invoice" | "credit_note";
            status: "draft" | "issued" | "partially_paid" | "paid" | "void";
            customerId: string | null;
            billingAddressId: string | null;
            shippingAddressId: string | null;
            customerSnapshot: unknown;
            supplierSnapshot: unknown;
            seriesId: string | null;
            sequenceNumber: number | null;
            number: string | null;
            issuedAt: Date | null;
            dueAt: Date | null;
            currency: string;
            exchangeRate: string | null;
            subtotalMinor: number;
            discountMinor: number;
            shippingMinor: number;
            taxMinor: number;
            adjustmentMinor: number;
            roundingMinor: number;
            totalMinor: number;
            paidMinor: number;
            balanceMinor: number;
            lockedAt: Date | null;
            voidedAt: Date | null;
            voidReason: string | null;
            meta: unknown;
            createdAt: Date;
            updatedAt: Date;
        };
    }>;
    private applyPaymentToInvoiceTx;
}
