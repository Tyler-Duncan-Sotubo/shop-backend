import { db } from 'src/drizzle/types/drizzle';
import { CacheService } from 'src/common/cache/cache.service';
import { AuditService } from 'src/modules/audit/audit.service';
import { User } from 'src/common/types/user.type';
import { ListOrdersDto } from './dto/list-orders.dto';
import { InventoryStockService } from '../inventory/services/inventory-stock.service';
export declare class OrdersService {
    private readonly db;
    private readonly cache;
    private readonly audit;
    private readonly stock;
    constructor(db: db, cache: CacheService, audit: AuditService, stock: InventoryStockService);
    getOrder(companyId: string, orderId: string): Promise<{
        items: {
            imageUrl: string | null;
            id: string;
            companyId: string;
            orderId: string;
            productId: string | null;
            variantId: string | null;
            sku: string | null;
            name: string;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            unitPriceMinor: number;
            lineTotalMinor: number;
            attributes: unknown;
            createdAt: Date | null;
        }[];
        events: {
            id: string;
            companyId: string;
            orderId: string;
            type: string;
            fromStatus: string | null;
            toStatus: string | null;
            actorUserId: string | null;
            ipAddress: string | null;
            message: string | null;
            meta: unknown;
            createdAt: Date;
        }[];
        id: string;
        orderNumber: string;
        companyId: string;
        storeId: string;
        checkoutId: string | null;
        cartId: string | null;
        status: string;
        channel: string;
        currency: string;
        customerId: string | null;
        deliveryMethodType: string;
        pickupLocationId: string | null;
        shippingZoneId: string | null;
        selectedShippingRateId: string | null;
        shippingMethodLabel: string | null;
        shippingAddress: Record<string, any> | null;
        billingAddress: Record<string, any> | null;
        originInventoryLocationId: string | null;
        shippingQuote: Record<string, any> | null;
        subtotal: string;
        discountTotal: string;
        taxTotal: string;
        shippingTotal: string;
        total: string;
        subtotalMinor: number;
        discountTotalMinor: number;
        taxTotalMinor: number;
        shippingTotalMinor: number;
        totalMinor: number;
        createdAt: Date | null;
        updatedAt: Date | null;
    }>;
    getOrderStorefront(companyId: string, storeId: string, orderId: string): Promise<{
        items: {
            imageUrl: string | null;
            id: string;
            companyId: string;
            orderId: string;
            productId: string | null;
            variantId: string | null;
            sku: string | null;
            name: string;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            unitPriceMinor: number;
            lineTotalMinor: number;
            attributes: unknown;
            createdAt: Date | null;
        }[];
        events: {
            id: string;
            companyId: string;
            orderId: string;
            type: string;
            fromStatus: string | null;
            toStatus: string | null;
            actorUserId: string | null;
            ipAddress: string | null;
            message: string | null;
            meta: unknown;
            createdAt: Date;
        }[];
        id: string;
        orderNumber: string;
        companyId: string;
        storeId: string;
        checkoutId: string | null;
        cartId: string | null;
        status: string;
        channel: string;
        currency: string;
        customerId: string | null;
        deliveryMethodType: string;
        pickupLocationId: string | null;
        shippingZoneId: string | null;
        selectedShippingRateId: string | null;
        shippingMethodLabel: string | null;
        shippingAddress: Record<string, any> | null;
        billingAddress: Record<string, any> | null;
        originInventoryLocationId: string | null;
        shippingQuote: Record<string, any> | null;
        subtotal: string;
        discountTotal: string;
        taxTotal: string;
        shippingTotal: string;
        total: string;
        subtotalMinor: number;
        discountTotalMinor: number;
        taxTotalMinor: number;
        shippingTotalMinor: number;
        totalMinor: number;
        createdAt: Date | null;
        updatedAt: Date | null;
    }>;
    listOrders(companyId: string, q: ListOrdersDto): Promise<{
        rows: {
            id: string;
            orderNumber: string;
            companyId: string;
            storeId: string;
            checkoutId: string | null;
            cartId: string | null;
            status: string;
            channel: string;
            currency: string;
            customerId: string | null;
            deliveryMethodType: string;
            pickupLocationId: string | null;
            shippingZoneId: string | null;
            selectedShippingRateId: string | null;
            shippingMethodLabel: string | null;
            shippingAddress: Record<string, any> | null;
            billingAddress: Record<string, any> | null;
            originInventoryLocationId: string | null;
            shippingQuote: Record<string, any> | null;
            subtotal: string;
            discountTotal: string;
            taxTotal: string;
            shippingTotal: string;
            total: string;
            subtotalMinor: number;
            discountTotalMinor: number;
            taxTotalMinor: number;
            shippingTotalMinor: number;
            totalMinor: number;
            createdAt: Date | null;
            updatedAt: Date | null;
        }[];
        count: number;
        limit: number;
        offset: number;
    }>;
    markPaid(companyId: string, orderId: string, user?: User, ip?: string): Promise<{
        id: string;
        orderNumber: string;
        companyId: string;
        storeId: string;
        checkoutId: string | null;
        cartId: string | null;
        status: string;
        channel: string;
        currency: string;
        customerId: string | null;
        deliveryMethodType: string;
        pickupLocationId: string | null;
        shippingZoneId: string | null;
        selectedShippingRateId: string | null;
        shippingMethodLabel: string | null;
        shippingAddress: Record<string, any> | null;
        billingAddress: Record<string, any> | null;
        originInventoryLocationId: string | null;
        shippingQuote: Record<string, any> | null;
        subtotal: string;
        discountTotal: string;
        taxTotal: string;
        shippingTotal: string;
        total: string;
        subtotalMinor: number;
        discountTotalMinor: number;
        taxTotalMinor: number;
        shippingTotalMinor: number;
        totalMinor: number;
        createdAt: Date | null;
        updatedAt: Date | null;
    }>;
    cancel(companyId: string, orderId: string, user?: User, ip?: string): Promise<{
        id: string;
        orderNumber: string;
        companyId: string;
        storeId: string;
        checkoutId: string | null;
        cartId: string | null;
        status: string;
        channel: string;
        currency: string;
        customerId: string | null;
        deliveryMethodType: string;
        pickupLocationId: string | null;
        shippingZoneId: string | null;
        selectedShippingRateId: string | null;
        shippingMethodLabel: string | null;
        shippingAddress: Record<string, any> | null;
        billingAddress: Record<string, any> | null;
        originInventoryLocationId: string | null;
        shippingQuote: Record<string, any> | null;
        subtotal: string;
        discountTotal: string;
        taxTotal: string;
        shippingTotal: string;
        total: string;
        subtotalMinor: number;
        discountTotalMinor: number;
        taxTotalMinor: number;
        shippingTotalMinor: number;
        totalMinor: number;
        createdAt: Date | null;
        updatedAt: Date | null;
    }>;
    fulfill(companyId: string, orderId: string, user?: User, ip?: string): Promise<{
        id: string;
        orderNumber: string;
        companyId: string;
        storeId: string;
        checkoutId: string | null;
        cartId: string | null;
        status: string;
        channel: string;
        currency: string;
        customerId: string | null;
        deliveryMethodType: string;
        pickupLocationId: string | null;
        shippingZoneId: string | null;
        selectedShippingRateId: string | null;
        shippingMethodLabel: string | null;
        shippingAddress: Record<string, any> | null;
        billingAddress: Record<string, any> | null;
        originInventoryLocationId: string | null;
        shippingQuote: Record<string, any> | null;
        subtotal: string;
        discountTotal: string;
        taxTotal: string;
        shippingTotal: string;
        total: string;
        subtotalMinor: number;
        discountTotalMinor: number;
        taxTotalMinor: number;
        shippingTotalMinor: number;
        totalMinor: number;
        createdAt: Date | null;
        updatedAt: Date | null;
    }>;
}
