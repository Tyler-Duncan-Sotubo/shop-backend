import { db } from 'src/infrastructure/drizzle/types/drizzle';
import { User } from 'src/channels/admin/common/types/user.type';
import { CreateCartDto } from './dto';
import { CartQueryService } from './services/cart-query.service';
import { CartLifecycleService } from './services/cart-lifecycle.service';
import { CartTokenService } from './services/cart-token.service';
import { CartItemMutationService } from './services/cart-item-mutation.service';
export declare class CartService {
    private readonly db;
    private readonly cartQuery;
    private readonly cartLifecycle;
    private readonly cartToken;
    private readonly cartItemsMutations;
    constructor(db: db, cartQuery: CartQueryService, cartLifecycle: CartLifecycleService, cartToken: CartTokenService, cartItemsMutations: CartItemMutationService);
    getCartByIdOnlyOrThrow(companyId: string, cartId: string): Promise<{
        [x: string]: any;
    }>;
    getCartByIdOrThrow(companyId: string, storeId: string, cartId: string): Promise<{
        [x: string]: any;
    }>;
    getCartByGuestTokenOrThrow(companyId: string, guestToken: string): Promise<{
        [x: string]: any;
    }>;
    getCartItems(companyId: string, storeId: string, cartId: string): Promise<({
        availableQty: number;
        reservedQty: number;
        safetyStock: number;
        sellableQty: number;
        maxQty: number;
        stockStatus: string;
        id: string;
        cartId: string;
        productId: string;
        variantId: string | null;
        name: string;
        sku: string | null;
        quantity: number;
        unitPrice: string;
        lineTotal: string;
        weightKg: any;
        variantTitle: any;
        image: any;
        slug: any;
        cartItemId: string;
    } | {
        availableQty: number;
        reservedQty: number;
        safetyStock: number;
        sellableQty: number;
        maxQty: number;
        stockStatus: string;
        id: string;
        cartId: string;
        productId: string;
        variantId: string | null;
        name: string;
        sku: string | null;
        quantity: number;
        unitPrice: string;
        lineTotal: string;
        weightKg: any;
        variantTitle: any;
        image: any;
        slug: any;
        cartItemId: string;
    } | {
        availableQty: number;
        reservedQty: number;
        safetyStock: number;
        sellableQty: number;
        maxQty: number;
        stockStatus: string;
        id: string;
        cartId: string;
        productId: string;
        variantId: string | null;
        name: string;
        sku: string | null;
        quantity: number;
        unitPrice: string;
        lineTotal: string;
        weightKg: any;
        variantTitle: any;
        image: any;
        slug: any;
        cartItemId: string;
    } | {
        availableQty: number;
        reservedQty: number;
        safetyStock: number;
        sellableQty: number;
        maxQty: number;
        stockStatus: string;
        id: string;
        cartId: string;
        productId: string;
        variantId: string | null;
        name: string;
        sku: string | null;
        quantity: number;
        unitPrice: string;
        lineTotal: string;
        weightKg: any;
        variantTitle: any;
        image: any;
        slug: any;
        cartItemId: string;
    })[]>;
    listCarts(companyId: string, q?: any): Promise<{
        rows: ({
            id: any;
            cartId: any;
            status: any;
            ownerType: any;
            customerId: any;
            guestToken: any;
            currency: any;
            subtotal: any;
            shippingTotal: any;
            total: any;
            selectedShippingMethodLabel: any;
            lastActivityAt: any;
            expiresAt: any;
            createdAt: any;
        } | {
            id: any;
            cartId: any;
            status: any;
            ownerType: any;
            customerId: any;
            guestToken: any;
            currency: any;
            subtotal: any;
            shippingTotal: any;
            total: any;
            selectedShippingMethodLabel: any;
            lastActivityAt: any;
            expiresAt: any;
            createdAt: any;
        })[];
        count: number;
        limit: number;
        offset: number;
    }>;
    getCart(companyId: string, storeId: string, cartId: string): Promise<{
        items: ({
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        })[];
    }>;
    createCart(companyId: string, storeId: string, dto: CreateCartDto, user?: User, ip?: string): Promise<any>;
    claimGuestCart(companyId: string, storeId: string, customerId: string, guestToken: string, user?: User, ip?: string): Promise<{
        items: ({
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        })[];
    }>;
    refreshCartAccessToken(args: {
        companyId: string;
        cartId: string;
        refreshToken: string;
    }): Promise<{
        cart: any;
        accessToken: string;
        rotated: boolean;
    }>;
    validateOrRotateGuestToken(args: {
        companyId: string;
        cartId: string;
        token: string;
        extendHours?: number;
    }): Promise<{
        cart: any;
        token: string;
        rotated: boolean;
    }>;
    addItem(companyId: string, storeId: string, cartId: string, dto: any, user?: any, ip?: string): Promise<{
        items: ({
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        })[];
    }>;
    updateItemQuantity(companyId: string, storeId: string, cartId: string, cartItemId: string, dto: any, user?: any, ip?: string): Promise<{
        items: ({
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        })[];
    }>;
    removeItem(companyId: string, storeId: string, cartId: string, cartItemId: string, user?: any, ip?: string): Promise<{
        items: ({
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        } | {
            availableQty: number;
            reservedQty: number;
            safetyStock: number;
            sellableQty: number;
            maxQty: number;
            stockStatus: string;
            id: string;
            cartId: string;
            productId: string;
            variantId: string | null;
            name: string;
            sku: string | null;
            quantity: number;
            unitPrice: string;
            lineTotal: string;
            weightKg: any;
            variantTitle: any;
            image: any;
            slug: any;
            cartItemId: string;
        })[];
    }>;
}
