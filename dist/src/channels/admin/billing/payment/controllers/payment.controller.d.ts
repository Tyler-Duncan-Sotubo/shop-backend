import { User } from 'src/channels/admin/common/types/user.type';
import { BaseController } from 'src/infrastructure/interceptor/base.controller';
import { PaystackSuccessDto } from '../dto/paystack-success.dto';
import { ListPaymentsQueryDto } from '../dto/payment-list.dto';
import { FinalizeBankTransferPaymentDto } from '../dto/finalize-bank-transfer.dto';
import { PaymentService } from 'src/domains/billing/payment/services/payment.service';
import { PaymentReceiptService } from 'src/domains/billing/payment/services/payment-receipt.service';
export declare class PaymentController extends BaseController {
    private readonly paymentsService;
    private readonly receipts;
    constructor(paymentsService: PaymentService, receipts: PaymentReceiptService);
    handlePaystackSuccess(user: User, dto: PaystackSuccessDto): Promise<{
        paymentId: string;
        alreadyProcessed: boolean;
        invoice?: undefined;
        receipt?: undefined;
    } | {
        invoice: {
            id: string;
            companyId: string;
            storeId: string | null;
            orderId: string | null;
            quoteRequestId: string | null;
            type: "invoice" | "credit_note";
            status: "draft" | "issued" | "partially_paid" | "paid" | "void";
            customerId: string | null;
            billingAddressId: string | null;
            shippingAddressId: string | null;
            customerSnapshot: unknown;
            supplierSnapshot: unknown;
            seriesId: string | null;
            sequenceNumber: number | null;
            number: string | null;
            issuedAt: Date | null;
            dueAt: Date | null;
            currency: string;
            exchangeRate: string | null;
            subtotalMinor: number;
            discountMinor: number;
            shippingMinor: number;
            taxMinor: number;
            adjustmentMinor: number;
            roundingMinor: number;
            totalMinor: number;
            paidMinor: number;
            balanceMinor: number;
            lockedAt: Date | null;
            voidedAt: Date | null;
            voidReason: string | null;
            meta: unknown;
            createdAt: Date;
            updatedAt: Date;
        };
        paymentId: string;
        receipt: any;
        alreadyProcessed: boolean;
    }>;
    listPayments(user: User, query: ListPaymentsQueryDto): Promise<{
        id: string;
        companyId: string;
        orderId: string | null;
        invoiceId: string | null;
        method: "bank_transfer" | "pos" | "cash" | "manual" | "gateway";
        status: "pending" | "succeeded" | "reversed";
        currency: string;
        amountMinor: number;
        reference: string | null;
        provider: string | null;
        providerRef: string | null;
        providerEventId: string | null;
        receivedAt: Date | null;
        confirmedAt: Date | null;
        createdByUserId: string | null;
        confirmedByUserId: string | null;
        meta: unknown;
        createdAt: Date;
    }[]>;
    finalizeBankTransfer(user: User, dto: FinalizeBankTransferPaymentDto): Promise<{
        data: {
            paymentId: any;
            receipt: {
                id: string;
                companyId: string;
                paymentId: string;
                invoiceId: string | null;
                orderId: string | null;
                invoiceNumber: string | null;
                orderNumber: string | null;
                sequenceNumber: number;
                receiptNumber: string;
                currency: string;
                amountMinor: number;
                pdfUrl: string | null;
                pdfStorageKey: string | null;
                method: "bank_transfer" | "pos" | "cash" | "manual" | "gateway";
                reference: string | null;
                customerSnapshot: unknown;
                storeSnapshot: unknown;
                meta: unknown;
                issuedAt: Date;
                createdByUserId: string | null;
                createdAt: Date;
                updatedAt: Date;
            };
            alreadyConfirmed: boolean;
            receiptId?: undefined;
        } | {
            paymentId: any;
            receiptId: any;
            receipt: any;
            alreadyConfirmed: boolean;
        };
    }>;
}
